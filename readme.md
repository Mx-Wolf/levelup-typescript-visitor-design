# Применение шаблона Посетитель - Visitor

Мы рассмотрим журнал регистрации технического обслуживания автомобилей. В журнале присутствуют сведения

* дата события
* сервисный центр
* марка автомобиля
* год выпуска автомобиля
* пробег
* вид обслуживания
* стоимость для клиента
* стоимость деталей
* стоимость работы
* водитель (заказчик)
* механик (исполнитель)
* оплаченная сумма
* скидка

Мы ожидаем, что заказчику потребуется множество разных вариантов статистики

* сводные данные по сервисным центрам
* корреляция между годом выпуска автомобиля и стоимостью обслуживания
* сумма задолженности

Воспользуемся шаблоном Visitor, чтобы отделить реализацию различных алгоритмов сбора статистики от данных из журнала.

Ознакомьтесь со структурой записи в журнале. см `./src/i-face-service-log.ts`.

## Идея реализации

Для сбора статистики мы создадим несколько реализаций посетителей.

* `ServiceCenterTotals`
* `AgeCostCorrelation`
* `CustomerOutstanding`

И организуем цикл редуктора по массиву записей.

## интерфейс посетителя

Для посетителя мы опишем интерфейс `ServiceLogVisitor`. Его задача принимать на обработку очередную запись.
Пока в коллекции журнала записи однородные, в составе нашего интерфейса один метод добавления.